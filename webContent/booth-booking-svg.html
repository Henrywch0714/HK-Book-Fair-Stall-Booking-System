<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booth Booking - Interactive Map</title>
    <link rel="stylesheet" href="../style/booth-booking-svg.css">
</head>
<body>
    <!-- Top Bar -->
    <div class="topbar">
        <div class="topbar-left">
            <button class="menu-toggle" id="mobileMenuToggle">‚ò∞</button>
            <div class="logo">
                <span class="logo-icon">üé™</span>
                <span class="logo-text">Interactive Booth Booking</span>
            </div>
        </div>
        <div class="topbar-right">
            <button class="btn-back" onclick="window.location.href='exhibitor-dashboard.html'">
                ‚Üê Back to Dashboard
            </button>
            <button class="logout-btn" id="logoutButton">Logout</button>
        </div>
    </div>

    <!-- Layout -->
    <div class="layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav>
                <ul class="nav-menu">
                    <li><a href="exhibitor-dashboard.html" class="nav-link">üìä Dashboard</a></li>
                    <li><a href="booth-booking-svg.html" class="nav-link active">üéü Book Booth</a></li>
                    <li><a href="my-bookings.html" class="nav-link">üìã My Bookings</a></li>
                    <li><a href="booth-layout.html" class="nav-link">üó∫Ô∏è My Booth Map</a></li>
                    <li><a href="settings.html" class="nav-link">‚öôÔ∏è Settings</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Page Header -->
            <div class="page-header">
                <button class="back-btn" onclick="window.location.href='exhibitor-dashboard.html'">
                    ‚Üê Back
                </button>
                <h1>üé™ Interactive Booth Booking</h1>
                <p class="subtitle">Select your preferred exhibition booths from the map below</p>
            </div>

            <!-- Event Selector Section -->
            <section class="event-selector-section">
                <label class="event-label">üìÖ Event</label>
                <select id="eventFilter" class="event-select">
                    <option value="">Loading events...</option>
                </select>
                <label class="event-label">üèõÔ∏è Hall</label>
                <select id="hallFilter" class="event-select">
                    <option value="Convention Center - Hall A">Hall A</option>
                    <option value="Convention Center - Hall B">Hall B</option>
                </select>
            </section>

            <!-- Statistics -->
            <div class="map-info">
                <div class="info-item">
                    <strong id="totalBooths">0</strong> Total Booths
                </div>
                <div class="info-item">
                    <strong id="availableBooths">0</strong> Available
                </div>
                <div class="info-item">
                    <strong id="selectedBooths">0</strong> Selected
                </div>
            </div>

            <!-- Legend Section -->
            <section class="legend-section">
                <h3>Legend</h3>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-color available"></div>
                        <span>Available</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color selected"></div>
                        <span>Selected</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color booked"></div>
                        <span>Booked</span>
                    </div>
                </div>
            </section>

            <!-- Map Container -->
            <section class="map-container">
                <div class="map-header">
                    <h2>Booth Map</h2>
                    <p>Click on available booths to select them for booking</p>
                </div>
                <div class="svg-map-wrapper">
                    <svg id="boothMap" viewBox="0 0 1000 800">
                        <g id="boothsGroup"></g>
                    </svg>
                </div>
            </section>

            <!-- Booking Panel -->
            <section class="booking-panel" id="bookingPanel">
                <div class="panel-header">
                    <h3>üìã Booking Details</h3>
                </div>

                <!-- Selected Booths Section -->
                <div class="selected-booths-section">
                    <h4>Selected Booths (<span id="selectedCount">0</span>)</h4>
                    <div id="selectedBoothsList" class="selected-booths-list">
                        <div class="empty-state">
                            <span style="font-size: 3em;">üìç</span>
                            <p>No booths selected yet</p>
                            <p style="font-size: 0.9em; margin-top: 5px;">Click on available booths to select</p>
                        </div>
                    </div>
                </div>

                <!-- Booking Form -->
                <form id="bookingForm" class="booking-form">
                    <!-- Company Information -->
                    <div class="form-section">
                        <h4>üè¢ Company Information</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="companyName">Company Name *</label>
                                <input type="text" id="companyName" required placeholder="Enter company name">
                            </div>
                            <div class="form-group">
                                <label for="contactPerson">Contact Person *</label>
                                <input type="text" id="contactPerson" required placeholder="Enter contact person">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contactEmail">Email *</label>
                                <input type="email" id="contactEmail" required placeholder="Enter email">
                            </div>
                            <div class="form-group">
                                <label for="contactPhone">Phone *</label>
                                <input type="tel" id="contactPhone" required placeholder="Enter phone number">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="specialRequests">Special Requests</label>
                            <textarea id="specialRequests" rows="3" placeholder="Any special requirements or requests..."></textarea>
                        </div>
                    </div>

                    <!-- Pricing Section -->
                    <div class="pricing-section" id="priceSummary" style="display: none;">
                        <h4>üí∞ Price Summary</h4>
                        <div class="price-breakdown">
                            <div class="price-row">
                                <span>Subtotal:</span>
                                <span id="subtotalPrice">$0</span>
                            </div>
                            <div class="price-row">
                                <span>Tax (10%):</span>
                                <span id="taxPrice">$0</span>
                            </div>
                            <div class="price-row total">
                                <span>Total:</span>
                                <span id="totalPrice">$0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" id="cancelBtn" class="btn-secondary">Cancel</button>
                        <button type="submit" id="submitBtn" class="btn-primary" disabled>Proceed to Payment</button>
                    </div>
                </form>
            </section>
        </main>
    </div>

    <script src="../src/api-service.js"></script>
    <script src="../src/booth-booking-svg.js"></script>
</body>
</html>